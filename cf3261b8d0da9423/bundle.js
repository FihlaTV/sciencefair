!function(){var e=/\n[\s]+$/,t=/^\n[\s]+/,n=/[\s]+$/,r=/^[\s]+/,i=/[\n\s]+/g,o=["a","abbr","b","bdi","bdo","br","cite","data","dfn","em","i","kbd","mark","q","rp","rt","rtc","ruby","s","amp","small","span","strong","sub","sup","time","u","var","wbr"],a=["code","pre","textarea"],s=function s(c,u){if(Array.isArray(u))for(var l,d,h=c.nodeName.toLowerCase(),f=!1,m=0,p=u.length;m<p;m++){var v=u[m];if(Array.isArray(v))s(c,v);else{("number"==typeof v||"boolean"==typeof v||"function"==typeof v||v instanceof Date||v instanceof RegExp)&&(v=v.toString());var y=c.childNodes[c.childNodes.length-1];if("string"==typeof v)f=!0,y&&"#text"===y.nodeName?y.nodeValue+=v:(v=document.createTextNode(v),c.appendChild(v),y=v),m===p-1&&(f=!1,-1===o.indexOf(h)&&-1===a.indexOf(h)?""===(l=y.nodeValue.replace(t,"").replace(n,"").replace(e,"").replace(i," "))?c.removeChild(y):y.nodeValue=l:-1===a.indexOf(h)&&(d=0===m?"":" ",l=y.nodeValue.replace(t,d).replace(r," ").replace(n,"").replace(e,"").replace(i," "),y.nodeValue=l));else if(v&&v.nodeType){f&&(f=!1,-1===o.indexOf(h)&&-1===a.indexOf(h)?""===(l=y.nodeValue.replace(t,"").replace(e,"").replace(i," "))?c.removeChild(y):y.nodeValue=l:-1===a.indexOf(h)&&(l=y.nodeValue.replace(r," ").replace(t,"").replace(e,"").replace(i," "),y.nodeValue=l));var b=v.nodeName;b&&(h=b.toLowerCase()),c.appendChild(v)}}}},c=[{src:"dat_logo.png",href:"https://datproject.org"},{src:"elife_logo.png",href:"https://elifesciences.org"},{src:"codeforscience_logo.png",href:"https://codeforscience.org"},{src:"coko_logo.png",href:"https://coko.foundation"},{src:"fathomlabs_logo.png",href:"https://fathomlabs.io"},{src:"sciencelab_logo.png",href:"https://science.mozilla.org"}].map(function(e){return function(){var e=document.createElement("img");return e.setAttribute("style","opacity: 0.9; width: 169px;"),e.setAttribute("src","./assets/hexes/"+arguments[0]),e.setAttribute("class","hex"),e}(e.src)}),u=function(e,t){return function(){var e=document.createElement("a");return e.setAttribute("href",arguments[0]),e.setAttribute("target","_blank"),e.setAttribute("class",arguments[1]),s(e,["\n    ",arguments[2],"\n  "]),e}(e,"no-underline bg-animate hover-bg-light-blue silver hover-dark-gray",t)},l=function(){return function(){var e=document.createElement("section");e.setAttribute("id","community"),e.setAttribute("class","w-100 center bg-near-white pa3 mv3 tl avenir");var t=document.createElement("h1");t.setAttribute("class","dark-gray f2 tc bt bw2 pt5 fw4 ttu"),s(t,["Community"]);var n=document.createElement("p");n.setAttribute("class","f3 w-80-ns lh-copy ph5-ns mid-gray center"),s(n,["\n    ScienceFair v1 was developed by ",arguments[0],"\n    and ",arguments[1]," along with ",arguments[2],"\n    with support from ",arguments[3],",\n    ",arguments[4]," and the ",arguments[5]," project.\n  "]);var r=document.createElement("p");r.setAttribute("class","f3 w-80-ns lh-copy ph5-ns mid-gray center"),s(r,["\n    If you find a bug in ScienceFair please report it on the ",arguments[6],".\n    You can chat with us any time on ",arguments[7],".\n  "]);var i=document.createElement("p");return i.setAttribute("class","f3 w-80-ns lh-copy ph5-ns mid-gray center"),s(i,["\n    ScienceFair is an Open Source project. Code is licensed under the ",arguments[8],"\n    and hosted ",arguments[9],".\n    We ",arguments[10],"\n    of any kind from anyone, provided you follow our ",arguments[11],".\n  "]),s(e,["\n  ",t,"\n  ",n,"\n  ",r,"\n  ",i,"\n\n  ",arguments[12],"\n"]),e}(u("https://codeforscience.org","Code for Science"),u("http://fathomlabs.io","FathomLabs"),u("https://github.com/codeforscience/sciencefair/graphs/contributors","other contributors"),u("https://science.mozilla.org","Mozilla Science Lab"),u("https://elifesciences.org","eLife"),u("https://datproject.org","Dat"),u("https://github.com/codeforscience/sciencefair/issues","issue tracker"),u("https://webchat.freenode.net/?channels=sciencefair","IRC (#sciencefair on freenode.net)"),u("https://github.com/codeforscience/sciencefair/blob/master/LICENSE","MIT license"),u("https://github.com/codeforscience/sciencefair","on Github"),u("https://github.com/codeforscience/sciencefair/blob/master/CONTRIBUTING.md","welcome contributions"),u("https://github.com/codeforscience/sciencefair/blob/master/CODE_OF_CONDUCT.md","code of conduct"),function(){var e=document.createElement("div");e.setAttribute("class","center w-80 mb8 h5");var t=document.createElement("div");return t.setAttribute("id","grid"),t.setAttribute("style","position: relative;"),t.setAttribute("class","center"),s(t,[arguments[0]]),s(e,["\n    ",t,"\n  "]),e}(c))},d=["no-underline","bg-animate","hover-bg-light-blue","silver","hover-dark-gray","pl","pw1"].join(" "),h=function(e){return function(){var e=document.createElement("a");return e.setAttribute("href",arguments[0]),e.setAttribute("class",arguments[1]),s(e,[arguments[2]]),e}(e.href,d,e.content)},f=function(e){return function(){var e=document.createElement("li");e.setAttribute("class","center w-100 w-50-l fl");var t=document.createElement("div");t.setAttribute("class","center w-90 lh-copy bg-white border-box pa3 ma3 mid-gray ba br3 h8-l h10");var n=document.createElement("div");n.setAttribute("class","tc");var r=document.createElement("img");r.setAttribute("src",arguments[0]),r.setAttribute("data-zoom","zoom"),r.setAttribute("class","fl w-100");var i=document.createElement("h3");i.setAttribute("class","f3 w-100 avenir fw6"),s(i,[arguments[1]]),s(n,["\n      ",r,"\n      ",i,"\n    "]);var o=document.createElement("hr");o.setAttribute("class","mw5 bb bw1 b--black-10");var a=document.createElement("p");return a.setAttribute("class","lh-copy measure center f4 black-70 tl pa2"),s(a,[arguments[2]]),s(t,["\n    ",n,"\n    ",o,"\n    ",a,"\n  "]),s(e,["\n  ",t,"\n"]),e}(e.img,e.txt,e.detail)},m=function(e){return function(){var e=document.createElement("h1");return e.setAttribute("class","w-100 "+arguments[0]+"-gray f2 tc center "+arguments[1]+" "+arguments[2]+" pt5 ttu tracked avenir fw4"),s(e,["\n    ",arguments[3],"\n  "]),e}(e.dark?"dark":"light",e.noborder?"":"bt bw2",e.tight?"pv0":"",e.content)},p=function(e){return function(){var e=document.createElement("section");return e.setAttribute("id",arguments[0]),e.setAttribute("class",arguments[1]),s(e,["\n  ",arguments[2],"\n"]),e}(e.section,function(e){return"w-100 center bg-near-white "+(e.dark?"dark":"light")+"-gray pa3 mv3"}(e),e.content)};!function(){"use strict";var e,t,n,r,i;function o(e,t){e.style.webkitTransform=t,e.style.msTransform=t,e.style.transform=t}function a(){this._activeAdvancedZoom=this._initialScrollPosition=this._initialTouchPosition=this._touchMoveListener=null,this._window=window,this._document=document,this._body=document.body}function s(e){this._fullHeight=this._fullWidth=this._overlay=this._targetMediaWrap=null,this._targetMedia=e,this._body=document.body}a.prototype.listen=function(){document.body.addEventListener("click",function(e){"zoom"===e.target.getAttribute("data-zoom")&&this._advancedZoom(e)}.bind(this))},a.prototype._advancedZoom=function(i){var o=i.target;if(o&&("IMG"===o.tagName||"VIDEO"===o.tagName||"PICTURE"===o.tagName)&&!this._body.classList.contains("zoom-overlay-open"))return i.metaKey||i.ctrlKey?window.open(i.target.getAttribute("data-zoom-original")||i.target.currentSrc||i.target.src,"_blank"):void(o.width>=window.innerWidth-s.OFFSET||(this._activeAdvancedZoomClose(!0),this._activeAdvancedZoom=new s(o),this._activeAdvancedZoom.advancedZoomMedia(o.tagName),e=this._scrollHandler.bind(this),t=this._clickHandler.bind(this),n=this._keyHandler.bind(this),r=this._touchStart.bind(this),this._window.addEventListener("scroll",e),this._document.addEventListener("click",t),this._document.addEventListener("keyup",n),this._document.addEventListener("touchstart",r),this._document.addEventListener("touchend",t),i.stopPropagation()))},a.prototype._activeAdvancedZoomClose=function(i){this._activeAdvancedZoom&&(i?this._activeAdvancedZoom.dispose():this._activeAdvancedZoom.close(),this._window.removeEventListener("scroll",e),this._document.removeEventListener("click",t),this._document.removeEventListener("keyup",n),this._document.removeEventListener("touchstart",r),this._activeAdvancedZoom=null)},a.prototype._scrollHandler=function(e){var t;null===this._initialScrollPosition&&(this._initialScrollPosition=window.pageYOffset),t=this._initialScrollPosition-window.pageYOffset,Math.abs(t)>=40&&this._activeAdvancedZoomClose()},a.prototype._keyHandler=function(e){27==e.keyCode&&this._activeAdvancedZoomClose()},a.prototype._clickHandler=function(e){e.stopPropagation(),e.preventDefault(),this._activeAdvancedZoomClose()},a.prototype._touchStart=function(e){this._initialTouchPosition=e.touches[0].pageY,i=this._touchMove.bind(this),e.target.addEventListener("touchmove",i)},a.prototype._touchMove=function(e){Math.abs(e.touches[0].pageY-this._initialTouchPosition)>10&&(this._activeAdvancedZoomClose(),e.target.removeEventListener("touchmove",i))},s.OFFSET=80,s._MAX_WIDTH=2560,s._MAX_HEIGHT=4096,s.prototype.advancedZoomMedia=function(e){var t=this._targetMedia,n=t.getAttribute("data-zoom-original")||t.currentSrc||t.src;if(t.classList.add("zoom-media-loading"),"IMG"===e||"PICTURE"===e){var r=document.createElement("img");r.onload=function(){this._fullHeight=Number(r.height),this._fullWidth=Number(r.width),this._advancedZoomOriginal(),t.classList.remove("zoom-media-loading"),t.removeAttribute("data-zoom-original")}.bind(this),r.src=n}else if("VIDEO"===e){var i=document.createElement("video"),o=document.createElement("source"),a=this;i.appendChild(o),i.addEventListener("canplay",function(){a._fullHeight=Number(i.videoHeight),a._fullWidth=Number(i.videoWidth),a._advancedZoomOriginal(),a._targetMedia.play(),a._targetMedia.classList.remove("zoom-media-loading")},!1),o.src=n}t.src=n},s.prototype._advancedZoomOriginal=function(){this._targetMediaWrap=document.createElement("div"),this._targetMediaWrap.className="zoom-media-wrap",this._targetMedia.parentNode.insertBefore(this._targetMediaWrap,this._targetMedia),this._targetMediaWrap.appendChild(this._targetMedia),this._targetMedia.classList.add("zoom-media"),this._targetMedia.setAttribute("data-zoom","zoom-out"),this._overlay=document.createElement("div"),this._overlay.className="zoom-overlay",document.body.appendChild(this._overlay),this._calculateAdvancedZoom(),this._triggerAnimation()},s.prototype._calculateAdvancedZoom=function(){this._targetMedia.offsetWidth;var e=this._fullWidth,t=this._fullHeight,n=(window.pageYOffset,e/(this._targetMedia.width||this._targetMedia.videoWidth)),r=window.innerHeight-s.OFFSET,i=window.innerWidth-s.OFFSET,o=e/t,a=i/r;this._mediaScaleFactor=e<i&&t<r?n:o<a?r/t*n:i/e*n},s.prototype._triggerAnimation=function(){this._targetMedia.offsetWidth;var e,t,n,r,i=(e=this._targetMedia,t=e.getBoundingClientRect(),n=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,r=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0,{top:t.top+n,left:t.left+r}),a=window.pageYOffset+window.innerHeight/2,s=window.innerWidth/2,c=i.top+(this._targetMedia.height||this._targetMedia.offsetHeight)/2,u=i.left+(this._targetMedia.width||this._targetMedia.offsetWidth)/2;this._translateY=Math.round(a-c),this._translateX=Math.round(s-u);var l="scale("+this._mediaScaleFactor+")",d="translate("+this._translateX+"px, "+this._translateY+"px) translateZ(0)";o(this._targetMedia,l),o(this._targetMediaWrap,d),this._body.classList.add("zoom-overlay-open")},s.prototype.close=function(){this._body.classList.remove("zoom-overlay-open"),this._body.classList.add("zoom-overlay-transitioning"),o(this._targetMedia,""),o(this._targetMediaWrap,""),function(e,t){if(!("transition"in document.body.style))return t;e.addEventListener("transitionend",t),e.addEventListener("webkitTransitionEnd",t)}(this._targetMedia,this.dispose.bind(this))},s.prototype.dispose=function(){this._targetMediaWrap&&this._targetMediaWrap.parentNode&&(this._targetMedia.classList.remove("zoom-media"),this._targetMedia.setAttribute("data-zoom","zoom"),this._targetMediaWrap.parentNode.replaceChild(this._targetMedia,this._targetMediaWrap),this._overlay.parentNode.removeChild(this._overlay),this._body.classList.remove("zoom-overlay-transitioning"),"VIDEO"===this._targetMedia.tagName&&"always"===this._targetMedia.getAttribute("data-zoom-play")&&this._targetMedia.play())},(new a).listen()}();var v=function(e){return function(){var e=document.createElement("ul");return e.setAttribute("class","center w-80 w-80-ns pa3 border-box list cf ph2-ns tc"),s(e,["\n  ",arguments[0],"\n"]),e}(function(e){var t=[];return e.entries.forEach(function(e){return t.push(f(e))}),t}(e))},y=[{txt:"Modern, search-driven user interace",detail:"ScienceFair uses blazing-fast search and a clean user interface to help you find and filter the literature you need. No hidden menus or complex settings.",img:"./assets/screenshots/home.png"},{txt:"A reader optimised for science",detail:"Instead of static PDFs, ScienceFair uses the eLife Lens reader for a rich reading experience that helps you navigate and interpret scientific papers better.",img:"./assets/screenshots/reader.png"},{txt:"Instant multi-source search",detail:"Search your own library and any number of distributed literature collections simultaneously - the results are seamlessly merged as they stream in from the peer-to-peer network.",img:"./assets/screenshots/results.png"},{txt:"Built-in bibliometrics and analytics",detail:"Results are automatically data-mined in real-time, giving you a live updating dashboard you can use to analyse the literature and refine your discovery process.",img:"./assets/screenshots/selection.png"}],b=["f3","link","ba","mb2","dib","grow","bg-dark-gray","b--dark-gray","light-gray","w-90","pa2"].join(" "),g=function(e){return function(){var e=document.createElement("div");e.setAttribute("class",arguments[3]);var t=document.createElement("a");return t.setAttribute("href","#"+arguments[0]),t.setAttribute("class",arguments[1]),s(t,[arguments[2]]),s(e,["\n  ",t,"\n"]),e}(e,b,e,"fl w-100 w-third-ns pa2")},w=["features","install","community"];h({href:"https://elifesciences.org/labs/88b45406/sciencefair-a-new-desktop-science-library",content:"here"});var _=function(){return function(){var e=document.createElement("div");e.setAttribute("class","w-100 tc center avenir");var t=document.createElement("img");t.setAttribute("src","assets/header.svg"),t.setAttribute("alt","header-image"),t.setAttribute("class","w-90 w-70-ns");var n=document.createElement("h3");n.setAttribute("class","center w-70 dark-gray f3 tc fw4 lh-copy");var r=document.createElement("strong");s(r,["Discover, collect, organise, read and analyse"]);var i=document.createElement("br"),o=document.createElement("strong");return s(o,["make science fair"]),s(n,["\n    ",r," scientific papers.",i,"\n    Be part of a movement to ",o,".",document.createElement("br"),"\n  "]),s(e,["\n  ",arguments[0],"\n  ",t,"\n  ",n,"\n  ",arguments[1],"\n"]),e}(function(){var e=document.createElement("h2");e.setAttribute("class","center w-80 dark-gray f2 tc fw4 upper");var t=document.createElement("em");s(t,["futuristic"]);var n=document.createElement("em");s(n,["fabulous"]);var r=document.createElement("em");return s(r,["free"]),s(e,["\n  The ",t,", ",n," and ",r," desktop app for working with scientific literature\n"]),e}(),function(){var e=document.createElement("div");e.setAttribute("class","w-70 mv4 center ph2-ns");var t=document.createElement("div");return t.setAttribute("class","cf ph2-ns"),s(t,["\n    ",arguments[0],"\n  "]),s(e,["\n  ",t,"\n"]),e}(w.map(g)))},E="1.0.6",A=E,S="https://github.com/codeforscience/sciencefair/releases/download/",k=function(e){return[S,"v"+A,e].join("/")},L="avenir fw4",x={macos:{href:k("scienceFair-"+A+".dmg"),content:function(){var e=document.createElement("div");e.setAttribute("class",arguments[0]);var t=document.createElement("strong");return s(t,["macOS 10.9+"]),s(e,[t,document.createElement("br"),document.createElement("br"),"DMG"]),e}(L),dark:!0},win:{href:k("sciencefair-setup-"+A+".exe"),content:function(){var e=document.createElement("div");e.setAttribute("class",arguments[0]);var t=document.createElement("strong");return s(t,["Windows 32 or 64 bit"]),s(e,[t,document.createElement("br"),document.createElement("br"),"EXE"]),e}(L),dark:!0},linuxdeb:{href:k("ScienceFair-linux-amd64-"+A+".deb"),content:function(){var e=document.createElement("div");e.setAttribute("class",arguments[0]);var t=document.createElement("strong");return s(t,["Linux Debian / Ubuntu"]),s(e,[t,document.createElement("br"),document.createElement("br"),"DEB"]),e}(L),dark:!0},linuxrpm:{href:k("ScienceFair-linux-x86_64-"+A+".rpm"),content:function(){var e=document.createElement("div");e.setAttribute("class",arguments[0]);var t=document.createElement("strong");return s(t,["Linux Fedora / SUSE"]),s(e,[t,document.createElement("br"),document.createElement("br"),"RPM"]),e}(L),dark:!0}},N=function(){return function(){var e=document.createElement("div");e.setAttribute("class","w-80 mv4 center");var t=document.createElement("div");return t.setAttribute("class","cf"),s(t,["\n    ",arguments[0],"\n  "]),s(e,["\n  ",t,"\n"]),e}(Object.keys(x).map(function(e){return function(){var e=document.createElement("div");e.setAttribute("class","fl w-100 w-25-ns pa2 center tc");var t=document.createElement("a");return t.setAttribute("href",arguments[0]),t.setAttribute("class",arguments[1]),s(t,["\n    ",arguments[2],"\n  "]),s(e,["\n  ",t,"\n"]),e}((t=x[e]).href,"w-70 f6 link grow ba pa3 mb2 dib "+(t.dark?"dark":"light")+"-gray bg-white border-box ma3 br3",t.content);var t}))},M=function(e){return function(){var e=document.createElement("p");return e.setAttribute("class",arguments[0]),s(e,["\n  ",arguments[1],"\n"]),e}(function(e){return"f3 w-80-ns lh-copy ph5-ns "+(e.dark?"dark":"light")+"-gray center tc"}(e),e.content)},T=E,O={};function C(e){if(!(this instanceof C))return new C(e);"number"==typeof e&&(e={max:e}),e||(e={}),this.cache={},this.head=this.tail=null,this.length=0,this.max=e.max||1e3,this.maxAge=e.maxAge||0}O=C,Object.defineProperty(C.prototype,"keys",{get:function(){return Object.keys(this.cache)}}),C.prototype.clear=function(){this.cache={},this.head=this.tail=null,this.length=0},C.prototype.remove=function(e){if("string"!=typeof e&&(e=""+e),this.cache.hasOwnProperty(e)){var t=this.cache[e];return delete this.cache[e],this._unlink(e,t.prev,t.next),t.value}},C.prototype._unlink=function(e,t,n){this.length--,0===this.length?this.head=this.tail=null:this.head===e?(this.head=t,this.cache[this.head].next=null):this.tail===e?(this.tail=n,this.cache[this.tail].prev=null):(this.cache[t].next=n,this.cache[n].prev=t)},C.prototype.peek=function(e){if(this.cache.hasOwnProperty(e)){var t=this.cache[e];if(this._checkAge(e,t))return t.value}},C.prototype.set=function(e,t){var n;if("string"!=typeof e&&(e=""+e),this.cache.hasOwnProperty(e)){if((n=this.cache[e]).value=t,this.maxAge&&(n.modified=Date.now()),e===this.head)return t;this._unlink(e,n.prev,n.next)}else n={value:t,modified:0,next:null,prev:null},this.maxAge&&(n.modified=Date.now()),this.cache[e]=n,this.length===this.max&&this.evict();return this.length++,n.next=null,n.prev=this.head,this.head&&(this.cache[this.head].next=e),this.head=e,this.tail||(this.tail=e),t},C.prototype._checkAge=function(e,t){return!(this.maxAge&&Date.now()-t.modified>this.maxAge&&(this.remove(e),1))},C.prototype.get=function(e){if("string"!=typeof e&&(e=""+e),this.cache.hasOwnProperty(e)){var t=this.cache[e];if(this._checkAge(e,t))return this.head!==e&&(e===this.tail?(this.tail=t.next,this.cache[this.tail].prev=null):this.cache[t.prev].next=t.next,this.cache[t.next].prev=t.prev,this.cache[this.head].next=e,t.prev=this.head,t.next=null,this.head=e),t.value}},C.prototype.evict=function(){this.tail&&this.remove(this.tail)};var I={};function P(e,t,n){this.cache="number"==typeof n?new O(n):n||new O(100),this.state=e,this.emit=t}function R(e){return new(e.bind.apply(e,arguments))}"function"==typeof Symbol&&Symbol.iterator,I=P,P.prototype.render=function(e,t){var n=this.cache.get(t);if(!n){for(var r=[],i=2,o=arguments.length;i<o;i++)r.push(arguments[i]);r.unshift(e,t,this.state,this.emit),n=R.apply(R,r),this.cache.set(t,n)}return n},"function"==typeof Symbol&&Symbol.iterator;var D,W=function(e){var t=document.readyState;if("complete"===t||"interactive"===t)return setTimeout(e,0);document.addEventListener("DOMContentLoaded",function(){e()})};"function"==typeof Symbol&&Symbol.iterator;var z="undefined"!=typeof window;function V(e){this.hasWindow=e,this.hasIdle=this.hasWindow&&window.requestIdleCallback,this.method=this.hasIdle?window.requestIdleCallback.bind(window):this.setTimeout,this.scheduled=!1,this.queue=[]}V.prototype.push=function(e){this.queue.push(e),this.schedule()},V.prototype.schedule=function(){if(!this.scheduled){this.scheduled=!0;var e=this;this.method(function(t){for(;e.queue.length&&t.timeRemaining()>0;)e.queue.shift()(t);e.scheduled=!1,e.queue.length&&e.schedule()})}},V.prototype.setTimeout=function(e){setTimeout(e,0,{timeRemaining:function(){return 1}})},D=function(){var e;return z?(window._nanoScheduler||(window._nanoScheduler=new V(!0)),e=window._nanoScheduler):e=new V,e},"function"==typeof Symbol&&Symbol.iterator;var F,H=D();Z.disabled=!0;try{F=window.performance,Z.disabled="true"===window.localStorage.DISABLE_NANOTIMING||!F.mark}catch(e){}function Z(e){if(Z.disabled)return j;var t=(1e4*F.now()).toFixed()%Number.MAX_SAFE_INTEGER,n="start-"+t+"-"+e;function r(r){var i="end-"+t+"-"+e;F.mark(i),H.push(function(){var o=null;try{var a=e+" ["+t+"]";F.measure(a,n,i),F.clearMarks(n),F.clearMarks(i)}catch(e){o=e}r&&r(o,e)})}return F.mark(n),r.uuid=t,r}function j(e){e&&H.push(function(){e(new Error("nanotiming: performance API unavailable"))})}var U=Z,G=function(e,t,n){var r,i=e.length;if(!(t>=i||0===n)){var o=i-(n=t+n>i?i-t:n);for(r=t;r<o;++r)e[r]=e[r+n];e.length=o}},$={};"function"==typeof Symbol&&Symbol.iterator;function q(e){if(!(this instanceof q))return new q(e);this._name=e||"nanobus",this._starListeners=[],this._listeners={}}$=q,q.prototype.emit=function(e){for(var t=[],n=1,r=arguments.length;n<r;n++)t.push(arguments[n]);var i=U(this._name+"('"+e+"')"),o=this._listeners[e];return o&&o.length>0&&this._emit(this._listeners[e],t),this._starListeners.length>0&&this._emit(this._starListeners,e,t,i.uuid),i(),this},q.prototype.on=q.prototype.addListener=function(e,t){return"*"===e?this._starListeners.push(t):(this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t)),this},q.prototype.prependListener=function(e,t){return"*"===e?this._starListeners.unshift(t):(this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].unshift(t)),this},q.prototype.once=function(e,t){var n=this;return this.on(e,function r(){t.apply(n,arguments),n.removeListener(e,r)}),this},q.prototype.prependOnceListener=function(e,t){var n=this;return this.prependListener(e,function r(){t.apply(n,arguments),n.removeListener(e,r)}),this},q.prototype.removeListener=function(e,t){return"*"===e?(this._starListeners=this._starListeners.slice(),n(this._starListeners,t)):(void 0!==this._listeners[e]&&(this._listeners[e]=this._listeners[e].slice()),n(this._listeners[e],t));function n(e,t){if(e){var n=e.indexOf(t);return-1!==n?(G(e,n,1),!0):void 0}}},q.prototype.removeAllListeners=function(e){return e?"*"===e?this._starListeners=[]:this._listeners[e]=[]:(this._starListeners=[],this._listeners={}),this},q.prototype.listeners=function(e){var t="*"!==e?this._listeners[e]:this._starListeners,n=[];if(t)for(var r=t.length,i=0;i<r;i++)n.push(t[i]);return n},q.prototype._emit=function(e,t,n,r){if(void 0!==e&&0!==e.length){void 0===n&&(n=t,t=null),t&&(n=void 0!==r?[t].concat(n,r):[t].concat(n));for(var i=e.length,o=0;o<i;o++){var a=e[o];a.apply(a,n)}}},"function"==typeof Symbol&&Symbol.iterator;var Y=/(noopener|noreferrer) (noopener|noreferrer)/,B=/^[\w-_]+:/;"function"==typeof Symbol&&Symbol.iterator;var X=function(){return window.location.pathname.replace(/\/$/,"")+window.location.hash.replace(/^#/,"/")},K=["onclick","ondblclick","onmousedown","onmouseup","onmouseover","onmousemove","onmouseout","onmouseenter","onmouseleave","ontouchcancel","ontouchend","ontouchmove","ontouchstart","ondragstart","ondrag","ondragenter","ondragleave","ondragover","ondrop","ondragend","onkeydown","onkeypress","onkeyup","onunload","onabort","onerror","onresize","onscroll","onselect","onchange","onsubmit","onreset","onfocus","onblur","oninput","oncontextmenu","onfocusin","onfocusout"],J=K.length;function Q(e,t,n){e[n]!==t[n]&&(t[n]=e[n],e[n]?t.setAttribute(n,""):t.removeAttribute(n))}var ee=function(e,t){var n=e.nodeType,r=e.nodeName;1===n&&function(e,t){for(var n=t.attributes,r=e.attributes,i=null,o=null,a=null,s=null,c=r.length-1;c>=0;--c)a=(s=r[c]).name,i=s.namespaceURI,o=s.value,i?(a=s.localName||a,t.getAttributeNS(i,a)!==o&&t.setAttributeNS(i,a,o)):t.hasAttribute(a)?t.getAttribute(a)!==o&&("null"===o||"undefined"===o?t.removeAttribute(a):t.setAttribute(a,o)):t.setAttribute(a,o);for(var u=n.length-1;u>=0;--u)!1!==(s=n[u]).specified&&(a=s.name,(i=s.namespaceURI)?(a=s.localName||a,e.hasAttributeNS(i,a)||t.removeAttributeNS(i,a)):e.hasAttributeNS(null,a)||t.removeAttribute(a))}(e,t),3!==n&&8!==n||t.nodeValue!==e.nodeValue&&(t.nodeValue=e.nodeValue),"INPUT"===r?function(e,t){var n=e.value,r=t.value;Q(e,t,"checked"),Q(e,t,"disabled"),n!==r&&(t.setAttribute("value",n),t.value=n),"null"===n&&(t.value="",t.removeAttribute("value")),e.hasAttributeNS(null,"value")?"range"===t.type&&(t.value=n):t.removeAttribute("value")}(e,t):"OPTION"===r?function(e,t){Q(e,t,"selected")}(e,t):"TEXTAREA"===r&&function(e,t){var n=e.value;if(n!==t.value&&(t.value=n),t.firstChild&&t.firstChild.nodeValue!==n){if(""===n&&t.firstChild.nodeValue===t.placeholder)return;t.firstChild.nodeValue=n}}(e,t),function(e,t){for(var n=0;n<J;n++){var r=K[n];e[r]?t[r]=e[r]:t[r]&&(t[r]=void 0)}}(e,t)};"function"==typeof Symbol&&Symbol.iterator;var te=3;function ne(e,t){return e.id?e.id===t.id:e.isSameNode?e.isSameNode(t):e.tagName===t.tagName&&e.type===te&&e.nodeValue===t.nodeValue}var re=function(e,t){return function e(t,n){return n?t?t.isSameNode&&t.isSameNode(n)?n:t.tagName!==n.tagName?t:(ee(t,n),function(t,n){for(var r,i,o,a,s=0,c=0;r=n.childNodes[c],i=t.childNodes[c-s],r||i;c++)if(i)if(r)if(ne(i,r))(o=e(i,r))!==r&&(n.replaceChild(o,r),s++);else{a=null;for(var u=c;u<n.childNodes.length;u++)if(ne(n.childNodes[u],i)){a=n.childNodes[u];break}a?((o=e(i,a))!==a&&s++,n.insertBefore(o,r)):i.id||r.id?(n.insertBefore(i,r),s++):(o=e(i,r))!==r&&(n.replaceChild(o,r),s++)}else n.appendChild(i),s++;else n.removeChild(r),c--}(t,n),n):null:t}(t,e)};"function"==typeof Symbol&&Symbol.iterator;var ie=/([^?=&]+)(=([^&]*))?/g;"function"==typeof Symbol&&Symbol.iterator;var oe=function(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var r in n)ae.call(n,r)&&(e[r]=n[r])}return e},ae=Object.prototype.hasOwnProperty,se=function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)ce.call(n,r)&&(e[r]=n[r])}return e},ce=Object.prototype.hasOwnProperty,ue={};"function"==typeof Symbol&&Symbol.iterator;function le(){if(!(this instanceof le))return new le;this.trie={nodes:{}}}ue=le,le.prototype.create=function(e){var t=e.replace(/^\//,"").split("/");return function e(n,r){var i=t.hasOwnProperty(n)&&t[n];if(!1===i)return r;var o=null;return/^:|^\*/.test(i)?(r.nodes.hasOwnProperty("$$")?o=r.nodes.$$:(o={nodes:{}},r.nodes.$$=o),"*"===i[0]&&(r.wildcard=!0),r.name=i.replace(/^:|^\*/,"")):r.nodes.hasOwnProperty(i)?o=r.nodes[i]:(o={nodes:{}},r.nodes[i]=o),e(n+1,o)}(0,this.trie)},le.prototype.match=function(e){var t=e.replace(/^\//,"").split("/"),n={},r=function e(r,i){if(void 0!==i){var o=t[r];if(void 0===o)return i;if(i.nodes.hasOwnProperty(o))return e(r+1,i.nodes[o]);if(i.name){try{n[i.name]=decodeURIComponent(o)}catch(t){return e(r,void 0)}return e(r+1,i.nodes.$$)}if(i.wildcard){try{n.wildcard=decodeURIComponent(t.slice(r).join("/"))}catch(t){return e(r,void 0)}return i.nodes.$$}return e(r+1)}}(0,this.trie);if(r)return(r=oe(r)).params=n,r},le.prototype.mount=function(e,t){var n=e.replace(/^\//,"").split("/"),r=null,i=null;if(1===n.length)i=n[0],r=this.create(i);else{var o=n.join("/");i=n[0],r=this.create(o)}se(r.nodes,t.nodes),t.name&&(r.name=t.name),r.nodes[""]&&(Object.keys(r.nodes[""]).forEach(function(e){"nodes"!==e&&(r[e]=r.nodes[""][e])}),se(r.nodes,r.nodes[""].nodes),delete r.nodes[""].nodes)},"function"==typeof Symbol&&Symbol.iterator;var de=function e(t){if(!(this instanceof e))return new e(t);var n=(t||"").replace(/^\//,""),r=ue();return i._trie=r,i.on=function(e,t){var n=t._wayfarer&&t._trie?t:function(){return t.apply(this,Array.prototype.slice.call(arguments))};(e=e||"/",n.route=e,n._wayfarer&&n._trie)?r.mount(e,n._trie.trie):r.create(e).cb=n;return i},i.emit=i,i.match=o,i._wayfarer=!0,i;function i(e){var t=o(e),n=new Array(arguments.length);n[0]=t.params;for(var r=1;r<n.length;r++)n[r]=arguments[r];return t.cb.apply(t.cb,n)}function o(e){var t=r.match(e);if(t&&t.cb)return new a(t);var i=r.match(n);if(i&&i.cb)return new a(i);throw new Error("route '"+e+"' did not match")}function a(e){this.cb=e.cb,this.route=e.cb.route,this.params=e.params}},he={},fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},me=/file:\/\//.test("object"===("undefined"==typeof window?"undefined":fe(window))&&window.location&&window.location.origin),pe=new RegExp("^(file://|/)(.*.html?/?)?"),ve=new RegExp("^(http(s)?(://))?(www.)?[a-zA-Z0-9-_.]+(:[0-9]{1,5})?(/{1})?"),ye=new RegExp("#"),be=new RegExp("[?].*$");function ge(e){if(!(this instanceof ge))return new ge(e);e=e||{},this.router=de(e.default||"/404")}function we(e,t){return e=t?e.replace(pe,""):e.replace(ve,""),decodeURI(e.replace(be,"").replace(ye,"/"))}he=ge,ge.prototype.on=function(e,t){e=e.replace(/^[#/]/,""),this.router.on(e,t)},ge.prototype.emit=function(e){return e=we(e,me),this.router.emit(e)},ge.prototype.match=function(e){return e=we(e,me),this.router.match(e)};var _e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ee=Se,Ae={};function Se(e){if(!(this instanceof Se))return new Se(e);e=e||{};var t=this;this._events={DOMCONTENTLOADED:"DOMContentLoaded",DOMTITLECHANGE:"DOMTitleChange",REPLACESTATE:"replaceState",PUSHSTATE:"pushState",NAVIGATE:"navigate",POPSTATE:"popState",RENDER:"render"},this._historyEnabled=void 0===e.history||e.history,this._hrefEnabled=void 0===e.href||e.href,this._hasWindow="undefined"!=typeof window,this._createLocation=X,this._cache=e.cache,this._loaded=!1,this._stores=[],this._tree=null;var n={events:this._events,components:{}};this._hasWindow?(this.state=window.initialState?oe(window.initialState,n):n,delete window.initialState):this.state=n,this.router=he({curry:!0}),this.emitter=$("choo.emit"),this.emit=this.emitter.emit.bind(this.emitter),this._hasWindow&&(this.state.title=document.title),this.emitter.prependListener(this._events.DOMTITLECHANGE,function(e){t.state.title=e,t._hasWindow&&(document.title=e)})}Se.prototype.route=function(e,t){this.router.on(e,t)},Se.prototype.use=function(e){var t=this;this._stores.push(function(n){var r="choo.use";r=e.storeName?r+"("+e.storeName+")":r;var i=U(r);e(n,t.emitter,t),i()})},Se.prototype.start=function(){var e,t,n=this;return this._historyEnabled&&(this.emitter.prependListener(this._events.NAVIGATE,function(){n._matchRoute(),n._loaded&&(n.emitter.emit(n._events.RENDER),setTimeout(function(e,t){if(e)try{var n=document.querySelector(e);n&&n.scrollIntoView(t)}catch(e){}}.bind(null,window.location.hash),0))}),this.emitter.prependListener(this._events.POPSTATE,function(){n.emitter.emit(n._events.NAVIGATE)}),this.emitter.prependListener(this._events.PUSHSTATE,function(e){window.history.pushState(Ae,null,e),n.emitter.emit(n._events.NAVIGATE)}),this.emitter.prependListener(this._events.REPLACESTATE,function(e){window.history.replaceState(Ae,null,e),n.emitter.emit(n._events.NAVIGATE)}),window.onpopstate=function(){n.emitter.emit(n._events.POPSTATE)},n._hrefEnabled&&(e=function(e){var t=e.href;t!==window.location.href&&n.emitter.emit(n._events.PUSHSTATE,t)},t=t||window.document,window.addEventListener("click",function(n){if(!(n.button&&0!==n.button||n.ctrlKey||n.metaKey||n.altKey||n.shiftKey||n.defaultPrevented)){var r=function e(n){if(n&&n!==t)return"a"!==n.localName||void 0===n.href?e(n.parentNode):n}(n.target);r&&(window.location.origin!==r.origin||r.hasAttribute("download")||"_blank"===r.getAttribute("target")&&Y.test(r.getAttribute("rel"))||B.test(r.getAttribute("href"))||(n.preventDefault(),e(r)))}}))),this._setCache(this.state),this._stores.forEach(function(e){e(n.state)}),this._matchRoute(),this._tree=this._prerender(this.state),this.emitter.prependListener(n._events.RENDER,function(e,t){t||(t=window.requestAnimationFrame);var n=!1,r=null;return function(){null!==r||n||(n=!0,t(function(){n=!1;for(var t=r.length,i=new Array(t),o=0;o<t;o++)i[o]=r[o];e.apply(e,i),r=null})),r=arguments}}(function(){var e=U("choo.render"),t=n._prerender(n.state),r=U("choo.morph");re(n._tree,t),r(),e()})),W(function(){n.emitter.emit(n._events.DOMCONTENTLOADED),n._loaded=!0}),this._tree},Se.prototype.mount=function(e){if("object"!==("undefined"==typeof window?"undefined":_e(window)))return this.selector=e,this;var t=this;W(function(){var n=U("choo.render"),r=t.start();t._tree="string"==typeof e?document.querySelector(e):e;var i=U("choo.morph");re(t._tree,r),i(),n()})},Se.prototype.toString=function(e,t){this.state=oe(this.state,t||{});var n=this;this._setCache(this.state),this._stores.forEach(function(e){e(n.state)}),this._matchRoute(e);var r=this._prerender(this.state);return"string"==typeof r.outerHTML?r.outerHTML:r.toString()},Se.prototype._matchRoute=function(e){var t,n;e?(t=e.replace(/\?.+$/,""),n=e):(t=this._createLocation(),n=window.location.search);var r,i=this.router.match(t);return this._handler=i.cb,this.state.href=t,this.state.query=(r={},n.replace(/^.*\?/,"").replace(ie,function(e,t,n,i){r[decodeURIComponent(t)]=decodeURIComponent(i)}),r),this.state.route=i.route,this.state.params=i.params,this.state},Se.prototype._prerender=function(e){var t=U("choo.prerender('"+e.route+"')"),n=this._handler(e,this.emit);return t(),n},Se.prototype._setCache=function(e){var t=new I(e,this.emitter.emit.bind(this.emitter),this._cache);function n(e,n){for(var r=[],i=0,o=arguments.length;i<o;i++)r.push(arguments[i]);return t.render.apply(t,r)}e.cache=n,n.toJSON=function(){return null}};var ke=function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]},Le=function(e,t){for(var n=e[0],r=e[1],i=!1,o=0,a=t.length-1;o<t.length;a=o++){var s=t[o][0],c=t[o][1],u=t[a][0],l=t[a][1];c>r!=l>r&&n<(u-s)*(r-c)/(l-c)+s&&(i=!i)}return i},xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function Ne(e){var t=e;return e.width||e.height?t=e:e.element?t=window.getComputedStyle(e.element):"undefined"!=typeof window&&window.getComputedStyle&&(t=window.getComputedStyle(e)),{width:parseInt(t.width),height:parseInt(t.height)}}function Me(e){return e&&"object"===(void 0===e?"undefined":xe(e))&&"number"==typeof e.length}var Te=function(e,t){var n=Ne(e),r=Ne(Me(t)?t[0]:t);if(!Me(t)){var i=t;t=[];for(var o=0;o<i.n;o++)t.push(i)}var a=ke(e.spacing,0),s=e.offset;!s&&e.element&&(s={x:e.element.offsetLeft,y:e.element.offsetTop}),s||(s={x:ke(e.offsetLeft,0),y:ke(e.offsetTop,0)});var c=ke(e.initRow,0);(c=parseInt(c,10))>1&&(c=1),c<0&&(c=0);var u=1===c?r.width/2+a/2:0,l=0,d=c,h=[],f=[];for(o=0;o<t.length;o++){var m=t[o];m.style&&(m.style.position="absolute",m.style.left=u,m.style.top=l),h.push({x:u,y:l});var p=r.width/2,v=r.height/2,y=u+p,b=l+v,g=[[y,b-v],[y+p,b-v/2],[y+p,b+v/2],[y,b+v],[y-p,b+v/2],[y-p,b-v/2]];f.push(g),(u+=r.width+a)>n.width-r.width&&(l+=Math.floor(3*r.height/4)+a,u=++d%2?r.width/2+a/2:0)}var w={grid:h,points:f,lookupIndex:function(e,t){for(var n=[e-s.x,t-s.y],r=0;r<f.length;r++)if(Le(n,f[r]))return r;return-1},lookup:function(e,n){var r=w.lookupIndex(e,n);return r>=0?t[r]:void 0}};return w},Oe=Ee({href:!1,history:!1});Oe.use(function(e,t){t.on("DOMContentLoaded",function(){var e=[].slice.call(document.querySelectorAll(".hex")),t=document.querySelector("#grid");function n(){var n=t.offsetWidth,r=Te({element:t,spacing:10},e),i=10*(r.grid.filter(function(e){return 0===e.y}).length-1);r.grid.map(function(t,n){0===t.y&&(i+=e[n].offsetWidth)});var o=(n-i)/2,a=e[0].offsetHeight,s=Math.max(r.grid.map(function(e){return e.y}))+a+50;t.style.height=s+"px",e.forEach(function(e,t){var n=r.grid[t];e.style.top=n.y+"px",e.style.left=n.x+o+"px"})}n(),window.addEventListener("resize",n)})}),Oe.route("*",function(){return function(){var e=document.createElement("body");return e.setAttribute("class","bg-near-white roboto"),s(e,["\n  ",arguments[0],"\n  ",arguments[1],"\n  ",arguments[2],"\n  ",arguments[3],"\n"]),e}(_(),p({section:"features",dark:!1,content:[m({content:"Features",dark:!0}),v({entries:y})]}),p({section:"install",dark:!1,content:[m({content:"Install",dark:!0}),M({content:function(){var e=document.createElement("span"),t=document.createElement("code");s(t,["v",arguments[0]]);var n=document.createElement("small");return s(n,["\n          ",arguments[1],"\n        "]),s(e,["\n        Latest version: ",t,"\n        ",n,"\n      "]),e}(T,h({href:"https://github.com/codeforscience/sciencefair/releases",content:(e=s,t=document.createElement("span"),e(t,["(see previous versions)"]),t)})),dark:!0}),N(),M({content:function(){var e=document.createElement("span");return s(e,["\n        Or you can explore ",arguments[0],"\n      "]),e}(h({href:"https://github.com/codeforscience/sciencefair",content:"the source code on GitHub"})),dark:!0})]}),l());var e,t}),Oe.mount("body")}();
//# sourceMappingURL=bundle.js.map